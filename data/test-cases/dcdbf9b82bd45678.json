{"uid":"dcdbf9b82bd45678","name":"User can search for products","fullName":"tests.ui.test_products#test_product_search","historyId":"9cfd3255e02a810645f24703d15986f0","time":{"start":1771079770781,"stop":1771079773283,"duration":2502},"description":"\n    Given a user on the products page\n    When they search for a product\n    Then all the products related to search are visible\n    ","descriptionHtml":"<pre><code>Given a user on the products page\nWhen they search for a product\nThen all the products related to search are visible\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Product name Little Girls Mr. Panda Shirt does not contain search term top\nassert 'top' in 'little girls mr. panda shirt'\n +  where 'top' = <built-in method lower of str object at 0x7f504822a188>()\n +    where <built-in method lower of str object at 0x7f504822a188> = 'top'.lower\n +  and   'little girls mr. panda shirt' = <built-in method lower of str object at 0x7f503ffb9480>()\n +    where <built-in method lower of str object at 0x7f503ffb9480> = 'Little Girls Mr. Panda Shirt'.lower","statusTrace":"products_page = <pages.products_page.ProductsPage object at 0x7f503ffd0890>\n\n    @pytest.mark.tags(\"ui\", \"regression\", \"positive\", \"products\", \"search\")\n    @pytest.mark.products_search\n    @allure.feature(\"Products\")\n    @allure.story(\"Product Search\")\n    @allure.title(\"User can search for products\")\n    def test_product_search(products_page: ProductsPage):\n        \"\"\"\n        Given a user on the products page\n        When they search for a product\n        Then all the products related to search are visible\n        \"\"\"\n        # Arrange\n        products_page.navigate_to_products_page()\n        search_term = \"top\"\n    \n        # Act\n        products_page.search_product(search_term)\n    \n        # Assert\n        expect(products_page.searched_products_header).to_be_visible()\n        assert products_page.get_products_count() > 0, \"Expected search results\"\n        #all the products related to search are visible\n        # extract all the product names and assert that they contain the search term\n        product_names = products_page.product_name.all_text_contents()\n        for name in product_names:\n>           assert search_term.lower() in name.lower(), f\"Product name {name} does not contain search term {search_term}\"\nE           AssertionError: Product name Little Girls Mr. Panda Shirt does not contain search term top\nE           assert 'top' in 'little girls mr. panda shirt'\nE            +  where 'top' = <built-in method lower of str object at 0x7f504822a188>()\nE            +    where <built-in method lower of str object at 0x7f504822a188> = 'top'.lower\nE            +  and   'little girls mr. panda shirt' = <built-in method lower of str object at 0x7f503ffb9480>()\nE            +    where <built-in method lower of str object at 0x7f503ffb9480> = 'Little Girls Mr. Panda Shirt'.lower\n\ntests/ui/test_products.py:61: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1771079763662,"stop":1771079763663,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1771079763662,"stop":1771079763662,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"base_url","time":{"start":1771079763662,"stop":1771079763662,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1771079763663,"stop":1771079763663,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1771079763663,"stop":1771079764752,"duration":1089},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1771079763663,"stop":1771079763663,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1771079764756,"stop":1771079764756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"connect_options","time":{"start":1771079764756,"stop":1771079764756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1771079764756,"stop":1771079765057,"duration":301},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1771079764756,"stop":1771079764756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1771079765057,"stop":1771079765057,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder","time":{"start":1771079765058,"stop":1771079765058,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1771079765058,"stop":1771079765058,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"caplog","time":{"start":1771079770678,"stop":1771079770678,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"output_path","time":{"start":1771079770679,"stop":1771079770679,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder","time":{"start":1771079770679,"stop":1771079770679,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"attach_logs_on_failure","time":{"start":1771079770679,"stop":1771079770679,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"new_context","time":{"start":1771079770679,"stop":1771079770679,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1771079770680,"stop":1771079770693,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1771079770693,"stop":1771079770776,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"products_page","time":{"start":1771079770776,"stop":1771079770776,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"attach_video_on_failure","time":{"start":1771079770776,"stop":1771079770776,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Given a user on the products page\n    When they search for a product\n    Then all the products related to search are visible\n    ","status":"failed","statusMessage":"AssertionError: Product name Little Girls Mr. Panda Shirt does not contain search term top\nassert 'top' in 'little girls mr. panda shirt'\n +  where 'top' = <built-in method lower of str object at 0x7f504822a188>()\n +    where <built-in method lower of str object at 0x7f504822a188> = 'top'.lower\n +  and   'little girls mr. panda shirt' = <built-in method lower of str object at 0x7f503ffb9480>()\n +    where <built-in method lower of str object at 0x7f503ffb9480> = 'Little Girls Mr. Panda Shirt'.lower","statusTrace":"products_page = <pages.products_page.ProductsPage object at 0x7f503ffd0890>\n\n    @pytest.mark.tags(\"ui\", \"regression\", \"positive\", \"products\", \"search\")\n    @pytest.mark.products_search\n    @allure.feature(\"Products\")\n    @allure.story(\"Product Search\")\n    @allure.title(\"User can search for products\")\n    def test_product_search(products_page: ProductsPage):\n        \"\"\"\n        Given a user on the products page\n        When they search for a product\n        Then all the products related to search are visible\n        \"\"\"\n        # Arrange\n        products_page.navigate_to_products_page()\n        search_term = \"top\"\n    \n        # Act\n        products_page.search_product(search_term)\n    \n        # Assert\n        expect(products_page.searched_products_header).to_be_visible()\n        assert products_page.get_products_count() > 0, \"Expected search results\"\n        #all the products related to search are visible\n        # extract all the product names and assert that they contain the search term\n        product_names = products_page.product_name.all_text_contents()\n        for name in product_names:\n>           assert search_term.lower() in name.lower(), f\"Product name {name} does not contain search term {search_term}\"\nE           AssertionError: Product name Little Girls Mr. Panda Shirt does not contain search term top\nE           assert 'top' in 'little girls mr. panda shirt'\nE            +  where 'top' = <built-in method lower of str object at 0x7f504822a188>()\nE            +    where <built-in method lower of str object at 0x7f504822a188> = 'top'.lower\nE            +  and   'little girls mr. panda shirt' = <built-in method lower of str object at 0x7f503ffb9480>()\nE            +    where <built-in method lower of str object at 0x7f503ffb9480> = 'Little Girls Mr. Panda Shirt'.lower\n\ntests/ui/test_products.py:61: AssertionError","steps":[{"name":"Navigate to products page","time":{"start":1771079770781,"stop":1771079772038,"duration":1257},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Search for product: 'top'","time":{"start":1771079772039,"stop":1771079772812,"duration":773},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"search_term","value":"'top'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"e11ee1e451154b4b","name":"Failure Screenshot","source":"e11ee1e451154b4b.png","type":"image/png","size":201862}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":1,"hasContent":true},"afterStages":[{"name":"attach_video_on_failure::0","time":{"start":1771079773496,"stop":1771079775403,"duration":1907},"status":"passed","steps":[],"attachments":[{"uid":"331bca5b99a6e35d","name":"Failure Video","source":"331bca5b99a6e35d.webm","type":"video/webm","size":122712}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true},{"name":"_artifacts_recorder::0","time":{"start":1771079775404,"stop":1771079775414,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"new_context::0","time":{"start":1771079775404,"stop":1771079775404,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"caplog::0","time":{"start":1771079775415,"stop":1771079775415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"attach_logs_on_failure::0","time":{"start":1771079775415,"stop":1771079775415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder::0","time":{"start":1771079780722,"stop":1771079780722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1771079780723,"stop":1771079780793,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1771079780795,"stop":1771079780826,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"tag","value":"ui"},{"name":"tag","value":"regression"},{"name":"tag","value":"positive"},{"name":"tag","value":"products"},{"name":"tag","value":"search"},{"name":"feature","value":"Products"},{"name":"story","value":"Product Search"},{"name":"tag","value":"products_search"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_products"},{"name":"host","value":"runnervmjduv7"},{"name":"thread","value":"3116-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_products"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["search","ui","products_search","regression","positive","products"]},"source":"dcdbf9b82bd45678.json","parameterValues":["'chromium'"]}