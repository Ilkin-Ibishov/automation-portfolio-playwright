{"uid":"19cf2aada2d8bc03","name":"User can search for products","fullName":"tests.ui.test_products#test_product_search","historyId":"9cfd3255e02a810645f24703d15986f0","time":{"start":1770409855923,"stop":1770409857947,"duration":2024},"description":"\n    Given a user on the products page\n    When they search for a product\n    Then all the products related to search are visible\n    ","descriptionHtml":"<pre><code>Given a user on the products page\nWhen they search for a product\nThen all the products related to search are visible\n</code></pre>\n","status":"failed","statusMessage":"AssertionError: Product name Little Girls Mr. Panda Shirt does not contain search term top\nassert 'top' in 'little girls mr. panda shirt'\n +  where 'top' = <built-in method lower of str object at 0x7f5f5422a188>()\n +    where <built-in method lower of str object at 0x7f5f5422a188> = 'top'.lower\n +  and   'little girls mr. panda shirt' = <built-in method lower of str object at 0x7f5f4bfb2dd0>()\n +    where <built-in method lower of str object at 0x7f5f4bfb2dd0> = 'Little Girls Mr. Panda Shirt'.lower","statusTrace":"products_page = <pages.products_page.ProductsPage object at 0x7f5f4bf6a990>\n\n    @pytest.mark.tags(\"ui\", \"regression\", \"positive\", \"products\", \"search\")\n    @pytest.mark.products_search\n    @allure.feature(\"Products\")\n    @allure.story(\"Product Search\")\n    @allure.title(\"User can search for products\")\n    def test_product_search(products_page: ProductsPage):\n        \"\"\"\n        Given a user on the products page\n        When they search for a product\n        Then all the products related to search are visible\n        \"\"\"\n        # Arrange\n        products_page.navigate_to_products_page()\n        search_term = \"top\"\n    \n        # Act\n        products_page.search_product(search_term)\n    \n        # Assert\n        expect(products_page.searched_products_header).to_be_visible()\n        assert products_page.get_products_count() > 0, \"Expected search results\"\n        #all the products related to search are visible\n        # extract all the product names and assert that they contain the search term\n        product_names = products_page.product_name.all_text_contents()\n        for name in product_names:\n>           assert search_term.lower() in name.lower(), f\"Product name {name} does not contain search term {search_term}\"\nE           AssertionError: Product name Little Girls Mr. Panda Shirt does not contain search term top\nE           assert 'top' in 'little girls mr. panda shirt'\nE            +  where 'top' = <built-in method lower of str object at 0x7f5f5422a188>()\nE            +    where <built-in method lower of str object at 0x7f5f5422a188> = 'top'.lower\nE            +  and   'little girls mr. panda shirt' = <built-in method lower of str object at 0x7f5f4bfb2dd0>()\nE            +    where <built-in method lower of str object at 0x7f5f4bfb2dd0> = 'Little Girls Mr. Panda Shirt'.lower\n\ntests/ui/test_products.py:61: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1770409851752,"stop":1770409851752,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_verify_url","time":{"start":1770409851752,"stop":1770409851752,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright","time":{"start":1770409851753,"stop":1770409852503,"duration":750},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type_launch_args","time":{"start":1770409851753,"stop":1770409851753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"pytestconfig","time":{"start":1770409851753,"stop":1770409851753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"delete_output_dir","time":{"start":1770409851753,"stop":1770409851753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"launch_browser","time":{"start":1770409852504,"stop":1770409852504,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_type","time":{"start":1770409852504,"stop":1770409852504,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser","time":{"start":1770409852504,"stop":1770409852872,"duration":368},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"connect_options","time":{"start":1770409852504,"stop":1770409852504,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser_context_args","time":{"start":1770409852872,"stop":1770409852872,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder","time":{"start":1770409852872,"stop":1770409852872,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"device","time":{"start":1770409852872,"stop":1770409852872,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"caplog","time":{"start":1770409855816,"stop":1770409855816,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"attach_logs_on_failure","time":{"start":1770409855816,"stop":1770409855816,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder","time":{"start":1770409855817,"stop":1770409855817,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"output_path","time":{"start":1770409855817,"stop":1770409855817,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"context","time":{"start":1770409855821,"stop":1770409855851,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"new_context","time":{"start":1770409855821,"stop":1770409855821,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"page","time":{"start":1770409855852,"stop":1770409855921,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"products_page","time":{"start":1770409855922,"stop":1770409855922,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"\n    Given a user on the products page\n    When they search for a product\n    Then all the products related to search are visible\n    ","status":"failed","statusMessage":"AssertionError: Product name Little Girls Mr. Panda Shirt does not contain search term top\nassert 'top' in 'little girls mr. panda shirt'\n +  where 'top' = <built-in method lower of str object at 0x7f5f5422a188>()\n +    where <built-in method lower of str object at 0x7f5f5422a188> = 'top'.lower\n +  and   'little girls mr. panda shirt' = <built-in method lower of str object at 0x7f5f4bfb2dd0>()\n +    where <built-in method lower of str object at 0x7f5f4bfb2dd0> = 'Little Girls Mr. Panda Shirt'.lower","statusTrace":"products_page = <pages.products_page.ProductsPage object at 0x7f5f4bf6a990>\n\n    @pytest.mark.tags(\"ui\", \"regression\", \"positive\", \"products\", \"search\")\n    @pytest.mark.products_search\n    @allure.feature(\"Products\")\n    @allure.story(\"Product Search\")\n    @allure.title(\"User can search for products\")\n    def test_product_search(products_page: ProductsPage):\n        \"\"\"\n        Given a user on the products page\n        When they search for a product\n        Then all the products related to search are visible\n        \"\"\"\n        # Arrange\n        products_page.navigate_to_products_page()\n        search_term = \"top\"\n    \n        # Act\n        products_page.search_product(search_term)\n    \n        # Assert\n        expect(products_page.searched_products_header).to_be_visible()\n        assert products_page.get_products_count() > 0, \"Expected search results\"\n        #all the products related to search are visible\n        # extract all the product names and assert that they contain the search term\n        product_names = products_page.product_name.all_text_contents()\n        for name in product_names:\n>           assert search_term.lower() in name.lower(), f\"Product name {name} does not contain search term {search_term}\"\nE           AssertionError: Product name Little Girls Mr. Panda Shirt does not contain search term top\nE           assert 'top' in 'little girls mr. panda shirt'\nE            +  where 'top' = <built-in method lower of str object at 0x7f5f5422a188>()\nE            +    where <built-in method lower of str object at 0x7f5f5422a188> = 'top'.lower\nE            +  and   'little girls mr. panda shirt' = <built-in method lower of str object at 0x7f5f4bfb2dd0>()\nE            +    where <built-in method lower of str object at 0x7f5f4bfb2dd0> = 'Little Girls Mr. Panda Shirt'.lower\n\ntests/ui/test_products.py:61: AssertionError","steps":[{"name":"Navigate to products page","time":{"start":1770409855923,"stop":1770409857199,"duration":1276},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"Search for product: 'top'","time":{"start":1770409857199,"stop":1770409857631,"duration":432},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"search_term","value":"'top'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true}],"attachments":[{"uid":"a648715930660742","name":"Failure Screenshot","source":"a648715930660742.png","type":"image/png","size":201862}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":1,"hasContent":true},"afterStages":[{"name":"new_context::0","time":{"start":1770409858111,"stop":1770409858798,"duration":687},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_artifacts_recorder::0","time":{"start":1770409858799,"stop":1770409858816,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"caplog::0","time":{"start":1770409858817,"stop":1770409858817,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"attach_logs_on_failure::0","time":{"start":1770409858817,"stop":1770409858817,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_pw_artifacts_folder::0","time":{"start":1770409862560,"stop":1770409862561,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"browser::0","time":{"start":1770409862561,"stop":1770409862604,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"playwright::0","time":{"start":1770409862606,"stop":1770409862633,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"tag","value":"ui"},{"name":"tag","value":"regression"},{"name":"tag","value":"positive"},{"name":"tag","value":"products"},{"name":"tag","value":"search"},{"name":"feature","value":"Products"},{"name":"story","value":"Product Search"},{"name":"tag","value":"products_search"},{"name":"parentSuite","value":"tests.ui"},{"name":"suite","value":"test_products"},{"name":"host","value":"runnervmkj6or"},{"name":"thread","value":"3154-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.ui.test_products"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["search","ui","products_search","regression","positive","products"]},"source":"19cf2aada2d8bc03.json","parameterValues":["'chromium'"]}